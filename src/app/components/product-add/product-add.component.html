<div class="container">
    <app-header-user></app-header-user>

    <h2 class="section">Crear Producto</h2>

    <form class="form-horizontal" (ngSubmit)="addProduct()" enctype="multipart/form-data">
        <input type="hidden" [(ngModel)]="id">

        <div class="row">
            <div class="input-field col s12">
                <select class="browser-default" [(ngModel)]="categoryId" name="categoryId" required>
                    <option value="" disabled selected>Elija una categoría</option>
                    <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
                </select>                
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <input [(ngModel)]= "name" type="text" id="nombre" name="nombre" class="validate" required placeholder="Nombre">
                
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <textarea [(ngModel)]= "description" id="descripcion" name="descripcion" class="materialize-textarea" required placeholder="Descripción"></textarea>
                
            </div>
        </div>

        

        <div class="row">
            <div class="input-field col s12">
                <input [(ngModel)]= "price" type="number" id="precio" name="precio" step="any" required placeholder="Precio">
                
            </div>
        </div>

        <div class="row">
            <div class="file-field input-field col s12">
                <div class="btn">
                    <span>Imagen</span>
                    <input type="file" id="img" name="img" (change)="onFileSelected($event)">
                </div>
                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" placeholder="Suba una imagen del producto" [value]="fileName">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12">
                <button type="submit" class="btn waves-effect waves-light">
                    <i class="material-icons left">save</i> Guardar
                </button>
            </div>
        </div>
    </form>
</div>

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        M.Sidenav.init(document.querySelectorAll('.sidenav'));
        M.AutoInit(); // Inicializa todos los componentes de Materialize
    });
</script>
